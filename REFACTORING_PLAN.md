# خطة إعادة هيكلة تطبيق مشغل الوسائط

## البنية الحالية
```
lib/
├── generated/          # ملفات التوطين المولدة
├── l10n/              # ملفات الترجمة
├── models/            # نماذج البيانات
├── providers/         # إدارة الحالة
├── screens/           # شاشات التطبيق
├── services/          # الخدمات
├── widgets/           # المكونات القابلة لإعادة الاستخدام
└── main.dart          # نقطة بداية التطبيق
```

## البنية المقترحة
```
lib/
├── core/
│   ├── constants/     # الثوابت
│   ├── enums/         # التعدادات
│   ├── errors/        # معالجة الأخطاء
│   ├── extensions/    # توسيعات Dart
│   ├── themes/        # أنواع المظاهر
│   └── utils/         # أدوات مساعدة
├── data/
│   ├── datasources/   # مصادر البيانات
│   ├── models/        # نماذج البيانات
│   └── repositories/  # مستودعات البيانات
├── domain/
│   ├── entities/      # كيانات المجال
│   ├── repositories/  # واجهات المستودعات
│   └── use_cases/     # حالات الاستخدام
├── presentation/
│   ├── pages/         # الصفحات الرئيسية
│   ├── widgets/       # المكونات القابلة لإعادة الاستخدام
│   ├── providers/     # مزودو الحالة
│   └── navigation/    # التنقل
├── l10n/              # التوطين
├── generated/         # الملفات المولدة
└── main.dart          # نقطة البداية
```

## مراحل إعادة الهيكلة:

### المرحلة 1: إنشاء البنية الأساسية
- إنشاء مجلدات core و data و domain و presentation
- نقل الملفات الموجودة إلى الأماكن المناسبة

### المرحلة 2: فصل المنطق
- فصل منطق الأعمال عن واجهة المستخدم
- تطبيق Clean Architecture

### المرحلة 3: تحسين إدارة الحالة
- استخدام نمط Repository
- تحسين Provider patterns

### المرحلة 4: تحسين الأداء
- إضافة Lazy Loading
- تحسين إدارة الذاكرة

### المرحلة 5: إضافة ميزات جديدة
- نظام تشفير للملفات الحساسة
- نظام النسخ الاحتياطي
- تحسين واجهة المستخدم
